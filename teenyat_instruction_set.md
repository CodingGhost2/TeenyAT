# **TeenyAT Instruction Set Architecture**

## Elements
    16 bit words (each memory address points to a 16 bit value)

    32K words of RAM from 0x0000 through 0x7FFF
        * Address 0x8000-0xFFFF: available for hardware access

    8 registers available to all register-use instructions
        * rZ (reg[0]) is the "Zero" register, which always contains the value 0.
            * all attempts to modify rZ are ignored 
        * PC (reg[1]) is the program counter, contains address of next instruction, initially 0x0000
        * SP (reg[2]) is the stack pointer, contains address of the next top element, initially 0x7FFF (empty)
            * stack grows down in memory
        * rA through rE (reg[3] through reg[7]) are general purpose registers

    Instructions encoded in either one or two 16 bit words
        * Fetch must set PC = PC + 2 - T, where T is the "teeny" bit  to account for this
            * if teeny == 1, the instruction is 16 bits (essentially assumes 2nd word is 0x0000)
            * if teeny == 0, the instruction is 32 bits and requires an additional cycle
        * Fetches to RAM greater than 0x7FFF will result in the PC being set to 0


## Encodings

### First Word
```
     -------------------------------------------------------------------------------------
    | 15 | 14 | 13 | 12 | 11 |   10  | 9 | 8 | 7 | 6 | 5 | 4 |   3   |   2  |   1  |   0  |
    |-------------------------------------------------------------------------------------|
    |          opcode        | Teeny |   Reg_1   |   Reg_2   | Carry | Eqls | Less | Grtr |
    |-------------------------------------------------------------------------------------|
    |    |    |    |    |    |       |   |   |   |   |   |   |      Immed_4 / Addr_4      |
     -------------------------------------------------------------------------------------
```

### Second Word                                             
```                                                
     -------------------------------------------------------------------------------------
    | 15 | 14 | 13 | 12 | 11 |   10  | 9 | 8 | 7 | 6 | 5 | 4 |   3   |   2  |   1  |   0  |
    |-------------------------------------------------------------------------------------|
    |                                Immed_16 / Addr_16                                   |
    |-------------------------------------------------------------------------------------|
    |    |    |    |    |    |       |   |   |   |   |   |   |       |      |      |      |
     -------------------------------------------------------------------------------------
```

## Instructions
```
     ------------------------------------------------------------------------------------------------------------------------------------------
    |   ATRasm Instruction   |          Description           |                     Encoding                    | Teeny/Pseudo | Grammar Style |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | OPER dreg, sreg        | dreg ← dreg  oper sreg         | opcode ← OPER                                   |      T       |       1       |
    |                        |                                |     ADD:9, SUB:10, MPY:11, DIV:12, MOD:13,      |              |               |
    |                        |                                |     AND:14, OR:15, XOR:16, SHF:17, ROT:18       |              |               |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | OPER dreg, sreg + i16  | dreg ← dreg oper (sreg + i16)  | opcode ← OPER                                   |              |       2       |
    |                        |                                |     ADD:9, SUB:10, MPY:11, DIV:12, MOD:13,      |              |               |
    |                        |                                |     AND:14, OR:15, XOR:16, SHF:17, ROT:18       |              |               |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | OPER dreg, i16         | dreg ← dreg oper i16           | opcode ← OPER                                   |              |       3       |
    |                        |                                |     ADD:9, SUB:10, MPY:11, DIV:12, MOD:13,      |              |               |
    |                        |                                |     AND:14, OR:15, XOR:16, SHF:17, ROT:18       |              |               |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | OPER dreg, sreg + i4   | dreg ← dreg oper (sreg + i4)   | opcode ← OPER                                   |      T       |       2       |
    |                        |                                |     ADD:9, SUB:10, MPY:11, DIV:12, MOD:13,      |              |               |
    |                        |                                |     AND:14, OR:15, XOR:16, SHF:17, ROT:18       |              |               |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | OPER dreg, i4          | dreg ← dreg oper i4            | opcode ← OPER                                   |      T       |       3       |
    |                        |                                |     ADD:9, SUB:10, MPY:11, DIV:12, MOD:13,      |              |               |
    |                        |                                |     AND:14, OR:15, XOR:16, SHF:17, ROT:18       |              |               |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | NEG dreg               | Rdreg ← -Rdreg                 | opcode ← NEG:19                                 |      T       |       4       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | INC dreg               | Rdreg ← Rdreg + 1              | opcode ← ADD:9                                  |     T,P      |       5       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← 1                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | DEC dreg               | Rdreg ← -Rdreg - 1             | opcode ← SUB:10                                 |      T,P     |       5       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← 1                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | SET dreg, sreg         | dreg ← sreg                    | opcode ← SET:0                                  |      T       |       1       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | SET dreg, sreg + i16   | dreg ← sreg + i16              | opcode ← SET:0                                  |              |       2       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | SET dreg, i16          | dreg ← i16                     | opcode ← SET:0                                  |              |       3       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | SET dreg, sreg + i4    | dreg ← sreg + i4               | opcode ← SET:0                                  |      T       |       2       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | SET dreg, i4           | dreg ← i4                      | opcode ← SET:0                                  |      T       |       3       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | LOD dreg, [ sreg ]     | dreg ← mem[ sreg ]             | opcode ← LOD:1                                  |      T       |       1       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | LOD dreg,[ sreg + i16 ]| dreg ← mem[ sreg + i16 ]       | opcode ← LOD:1                                  |              |       2       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | LOD dreg, [ i16 ]      | dreg ← mem[ i16 ]              | opcode ← LOD:1                                  |              |       3       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | LOD dreg,[ sreg + i4 ] | dreg ← mem[ sreg + i4 ]        | opcode ← LOD:1                                  |      T       |       2       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | LOD dreg, [ i4 ]       | dreg ← mem[ i4 ]               | opcode ← LOD:1                                  |      T       |       3       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | STR [ dreg ], sreg     | mem[ dreg ] ← sreg             | opcode ← STR:2                                  |      T       |       1       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | STR[ dreg + i16 ], sreg| mem[ dreg + i16 ] ← sreg       | opcode ← STR:2                                  |              |       6       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | STR [ i16 ], sreg      | mem[ i16 ] ← sreg              | opcode ← STR:2                                  |              |       7       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | STR[ dreg + i4 ], sreg | mem[ dreg + i4 ] ← sreg        | opcode ← STR:2                                  |      T       |       6       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | STR [ i4 ], sreg       | mem[ i4 ] ← sreg               | opcode ← STR:2                                  |      T       |       7       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | PSH sreg               | Addr = SP & 0x7FFF             | opcode ← PSH:3                                  |      T       |       8       |
    |                        | mem[ Addr ] ← sreg             | Teeny ← 1                                       |              |               |
    |                        | SP ← (SP - 1) & 0x7FFF         | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | PSH sreg + i16         | Addr = SP & 0x7FFF             | opcode ← PSH:3                                  |              |       9       |
    |                        | mem[ Addr ] ← sreg + i16       | Teeny ← 0                                       |              |               |
    |                        | SP ← (SP - 1) & 0x7FFF         | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | PSH i16                | Addr = SP & 0x7FFF             | opcode ← PSH:3                                  |              |      10       |
    |                        | mem[ Addr ] ← i16              | Teeny ← 0                                       |              |               |
    |                        | SP ← (SP - 1) & 0x7FFF         | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | PSH sreg + i4          | Addr = SP & 0x7FFF             | opcode ← PSH:3                                  |      T       |       9       |
    |                        | mem[ Addr ] ← sreg + i4        | Teeny ← 1                                       |              |               |
    |                        | SP ← (SP - 1) & 0x7FFF         | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | PSH i4                 | Addr = SP & 0x7FFF             | opcode ← PSH:3                                  |      T       |      10       |
    |                        | mem[ Addr ] ← i4               | Teeny ← 0                                       |              |               |
    |                        | SP ← (SP - 1) & 0x7FFF         | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | POP dreg               | SP ← (SP + 1) & 0x7FFF         | opcode ← POP:4                                  |      T       |       4       |
    |                        | dreg ← mem[ SP ]               | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← dreg                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTS dreg, sreg         | B = sreg                       | opcode ← BTS:5                                  |      T       |       1       |
    |                        | if B in [0..15]:               | Teeny ← 1                                       |              |               |
    |                        |    dreg ← dreg | 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTS dreg, sreg + i16   | B = sreg + i16                 | opcode ← BTS:5                                  |              |       2       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg | 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTS dreg, i16          | B = i16                        | opcode ← BTS:5                                  |              |       3       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg | 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTS dreg, sreg + i4    | B = sreg + i4                  | opcode ← BTS:5                                  |      T       |       2       |
    |                        | if B in [0..15]:               | Teeny ← 1                                       |              |               |
    |                        |    dreg ← dreg | 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTS dreg, i4           | B = i4                         | opcode ← BTS:5                                  |      T       |       3       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg | 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTC dreg, sreg         | B = sreg                       | opcode ← BTC:6                                  |      T       |       1       |
    |                        | if B in [0..15]:               | Teeny ← 1                                       |              |               |
    |                        |    dreg ← dreg & ~(1 << B)     | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTC dreg, sreg + i16   | B = sreg + i16                 | opcode ← BTC:6                                  |              |       2       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg & ~(1 << B)     | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTC dreg, i16          | B = i16                        | opcode ← BTC:6                                  |              |       3       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg & ~(1 << B)     | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTC dreg, sreg + i4    | B = sreg + i4                  | opcode ← BTS:6                                  |      T       |       2       |
    |                        | if B in [0..15]:               | Teeny ← 1                                       |              |               |
    |                        |    dreg ← dreg & ~(1 << B)     | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTC dreg, i4           | B = i4                         | opcode ← BTC:6                                  |      T       |       3       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg & ~(1 << B)     | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTF dreg, sreg         | B = sreg                       | opcode ← BTF:7                                  |      T       |       1       |
    |                        | if B in [0..15]:               | Teeny ← 1                                       |              |               |
    |                        |    dreg ← dreg ^ 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTF dreg, sreg + i16   | B = sreg + i16                 | opcode ← BTF:7                                  |              |       2       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg ^ 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTF dreg, i16          | B = i16                        | oopcode ← BTF:7                                 |              |       3       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg ^ 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTF dreg, sreg + i4    | B = sreg + i4                  | opcode ← BTF:7                                  |      T       |       2       |
    |                        | if B in [0..15]:               | Teeny ← 1                                       |              |               |
    |                        |    dreg ← dreg ^ 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | BTF dreg, i4           | B = i4                         | oopcode ← BTF:7                                 |      T       |       3       |
    |                        | if B in [0..15]:               | Teeny ← 0                                       |              |               |
    |                        |    dreg ← dreg ^ 1 << B        | Reg_1 ← dreg                                    |              |               |
    |                        | otherwise, no action           | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CAL sreg               | Addr = SP & 0x7FFF             | opcode ← CALL:8                                 |      T       |       8       |
    |                        | mem[ Addr ] ← PC               | Teeny ← 1                                       |              |               |
    |                        |    SP ← (SP - 1) & 0x7FFF      | Reg_2 ← sreg                                    |              |               |
    |                        | PC ← sreg                      | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CAL sreg + i16         | Addr = SP & 0x7FFF             | opcode ← CALL:8                                 |              |       9       |
    |                        | mem[ Addr ] ← PC               | Teeny ← 0                                       |              |               |
    |                        |    SP ← (SP - 1) & 0x7FFF      | Reg_2 ← sreg                                    |              |               |
    |                        | PC ← sreg + i16                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CAL i16                | Addr = SP & 0x7FFF             | opcode ← CALL:8                                 |              |       10      |
    |                        | mem[ Addr ] ← PC               | Teeny ← 0                                       |              |               |
    |                        |    SP ← (SP - 1) & 0x7FFF      | Reg_2 ← rZ                                      |              |               |
    |                        | PC ← i16                       | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CAL sreg + i4          | Addr = SP & 0x7FFF             | opcode ← CALL:8                                 |      T       |       9       |
    |                        | mem[ Addr ] ← PC               | Teeny ← 1                                       |              |               |
    |                        |    SP ← (SP - 1) & 0x7FFF      | Reg_2 ← sreg                                    |              |               |
    |                        | PC ← sreg + i4                 | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CAL i4                 | Addr = SP & 0x7FFF             | opcode ← CALL:8                                 |      T       |       10      |
    |                        | mem[ Addr ] ← PC               | Teeny ← 0                                       |              |               |
    |                        |    SP ← (SP - 1) & 0x7FFF      | Reg_2 ← rZ                                      |              |               |
    |                        | PC ← i4                        | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | RET                    | SP ← (SP + 1) & 0x7FFF         | opcode ← POP:4                                  |    T , P     |       11      |
    |                        | PC ← mem[ SP ]                 | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← PC                                      |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CMP regA, regB         | Affects FLAG register by       | opcode ← CMP:20                                 |      T       |        1      |
    |                        | finding regA - regB            | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← regB                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CMP regA, regB + i16   | Affects FLAG register by       | opcode ← CMP:20                                 |              |       2       |
    |                        | finding regA - (regB + i16)    | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← regB                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CMP regA, i16          | Affects FLAG register by       | opcode ← CMP:20                                 |              |       3       |
    |                        | finding regA - i16             | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CMP regA, regB + i4    | Affects FLAG register by       | opcode ← CMP:20                                 |      T       |       2       |
    |                        | finding regA - (regB + i4)     | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← regB                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | CMP regA, i4           | Affects FLAG register by       | opcode ← CMP:20                                 |      T       |       3       |
    |                        | finding regA - i4              | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JMP reg                | PC ← reg                       | opcode ← JMP:21                                 |      T       |      12       |
    |                        |                                | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,0,0,0                               |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JMP reg + i16          | PC ← reg + i16                 | opcode ← JMP:21                                 |              |      13       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,0,0,0                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JMP i16                | PC ← i16                       | opcode ← JMP:21                                 |              |      14       |
    |                        |                                | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | C,Z,L,G ← 0,0,0,0                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JE reg                 | if FLAG[Z]:                    | opcode ← JMP:21                                 |      T       |      12       |
    |                        |    PC ← reg                    | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,1,0,0                               |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JE reg + i16           | if FLAG[Z]:                    | opcode ← JMP:21                                 |              |      13       |
    |                        |    PC ← reg + i16              | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,1,0,0                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JE i16                 | if FLAG[Z]:                    | opcode ← JMP:21                                 |              |      14       |
    |                        |    PC ← i16                    | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | C,Z,L,G ← 0,1,0,0                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JNE reg                | if FLAG[L] or FLAG[G]:         | opcode ← JMP:21                                 |      T       |      12       |
    |                        |    PC ← reg                    | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,0,1,1                               |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JNE reg + i16          | if FLAG[L] or FLAG[G]:         | opcode ← JMP:21                                 |              |      13       |
    |                        |    PC ← reg + i16              | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,0,1,1                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JNE i16                | if FLAG[L] or FLAG[G]:         | opcode ← JMP:21                                 |              |      14       |
    |                        |    PC ← i16                    | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | C,Z,L,G ← 0,0,1,1                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JL reg                 | if FLAG[L]:                    | opcode ← JMP:21                                 |      T       |      12       |
    |                        |    PC ← reg                    | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,0,1,0                               |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JL reg + i16           | if FLAG[L]:                    | opcode ← JMP:21                                 |              |      13       |
    |                        |    PC ← reg + i16              | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,0,1,0                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JL i16                 | if FLAG[L]:                    | opcode ← JMP:21                                 |              |      14       |
    |                        |    PC ← i16                    | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | C,Z,L,G ← 0,0,1,0                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JLE reg                | if FLAG[L] or FLAG[Z]:         | opcode ← JMP:21                                 |      T       |      12       |
    |                        |    PC ← reg                    | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,1,1,0                               |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JLE reg + i16          | if FLAG[L] or FLAG[Z]:         | opcode ← JMP:21                                 |              |      13       |
    |                        |    PC ← reg + i16              | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,1,1,0                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JLE i16                | if FLAG[L] or FLAG[Z]:         | opcode ← JMP:21                                 |              |      14       |
    |                        |    PC ← i16                    | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | C,Z,L,G ← 0,1,1,0                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JG reg                 | if FLAG[G]:                    | opcode ← JMP:21                                 |      T       |      12       |
    |                        |    PC ← reg                    | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,0,0,1                               |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | JG reg + i16           | if FLAG[G]:                    | opcode ← JMP:21                                 |              |      13       |
    |                        |    PC ← reg + i16              | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,0,0,1                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | JG i16                | if FLAG[G]:                     | opcode ← JMP:21                                 |              |      14       |
    |                        |    PC ← i16                    | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | C,Z,L,G ← 0,0,0,1                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | JGE reg                | if FLAG[G] or FLAG[Z]:         | opcode ← JMP:21                                 |      T       |      12       |
    |                        |    PC ← reg                    | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,1,0,1                               |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | JGE reg + i16          | if FLAG[G] or FLAG[Z]:         | opcode ← JMP:21                                 |              |      13       |
    |                        |    PC ← reg + i16              | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← reg                                     |              |               |
    |                        |                                | C,Z,L,G ← 0,1,0,1                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | JGE i16                | if FLAG[G] or FLAG[Z]:         | opcode ← JMP:21                                 |              |      14       |
    |                        |    PC ← i16                    | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_1 ← rZ                                      |              |               |
    |                        |                                | C,Z,L,G ← 0,1,0,1                               |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | DLY sreg               | len ← sreg                     | opcode ← DLY:22                                 |      T       |       8       |
    |                        | Waste len cycles               | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | DLY sreg + i16         | len ← sreg + i16               | opcode ← DLY:22                                 |              |       9       |
    |                        | Waste len cycles               | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | DLY i16                | len ← i16                      | opcode ← DLY:22                                 |              |      10       |
    |                        | Waste len cycles               | Teeny ← 0                                       |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | DLY sreg + i4          | len ← sreg + i4                | opcode ← DLY:22                                 |      T       |       9       |
    |                        | Waste len cycles               | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_2 ← sreg                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------|--------------------------------|-------------------------------------------------|--------------|---------------|
    | DLY i4                 | len ← i4                       | opcode ← DLY:22                                 |      T       |      10       |
    |                        | Waste len cycles               | Teeny ← 1                                       |              |               |
    |                        |                                | Reg_2 ← rZ                                      |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | LUP regA, regB         | regA ← regA - 1                | opcode ← LUP:23                                 |      T       |       1       |
    |                        | if regA == 0:                  | Teeny ← 1                                       |              |               |
    |                        |    PC ← regB                   | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← regB                                    |              |               |
    |                        |                                | Immed_4 ← 0                                     |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | LUP regA, regB + i16   | regA ← regA - 1                | opcode ← LUP:23                                 |              |       2       |
    |                        | if regA == 0:                  | Teeny ← 0                                       |              |               |
    |                        |    PC ← regB + i16             | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← regB                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | LUP regA, i16          | regA ← regA - 1                | opcode ← LUP:23                                 |              |       3       |
    |                        | if regA == 0:                  | Teeny ← 0                                       |              |               |
    |                        |    PC ← i16                    | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← regB                                    |              |               |
    |                        |                                | Immed_16 ← i16                                  |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | LUP regA, regB + i4    | regA ← regA - 1                | opcode ← LUP:23                                 |      T       |       2       |
    |                        | if regA == 0:                  | Teeny ← 0                                       |              |               |
    |                        |    PC ← regB + i4              | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← regB                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
    |------------------------------------------------------------------------------------------------------------------------------------------|
    | LUP regA, i4           | regA ← regA - 1                | opcode ← LUP:23                                 |     T        |       3       |
    |                        | if regA == 0:                  | Teeny ← 0                                       |              |               |
    |                        |    PC ← i4                     | Reg_1 ← regA                                    |              |               |
    |                        |                                | Reg_2 ← regB                                    |              |               |
    |                        |                                | Immed_4 ← i4                                    |              |               |
    |                        |                                |                                                 |              |               |
    |                        |                                |                                                 |              |               |
     ------------------------------------------------------------------------------------------------------------------------------------------ 
```
